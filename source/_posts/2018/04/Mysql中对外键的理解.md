---
title: Mysql中对外键的理解
date: 2018-04-07 10:13:00
tags: 
    - Mysql
---

> 只要世间有酒,我就喝不够!

虽然我们在真实的环境中不推荐使用外键，但是在数据库中有外键的概念。由于我想搞清楚外键到底是个什么东西，所以在这里简单描述下我们外键的理解。

<!-- more -->

外键的使用与否还是要看业务场景的，如果并发量大的业务最好不要使用数据库的一些高级特性。

## 表结构

这是我们想要的用户完整数据：
```
id      | 账户    | 密码    | 状态   |  性别    | 民族   | 身份证号码 |
--------------------------------------------------------------------
1000    | 张三    | 123     | 启用   | 男      | 汉     | 123456    |
--------------------------------------------------------------------
1001    | 李四    | 123     | 启用   | 男      | 汉     | 234567    |
--------------------------------------------------------------------
1002    | 王五    | 123     | 启用   | 男      | 汉     | 345678    |
```

但是为了我们方便把用户账户信息与基本信息分开，我们就拆分成两张表。

表1、主表 <用户表> 主键：id
```
id      | 账户    | 密码    | 状态   |
-------------------------------------
1000    | 张三    | 123     | 启用   |
-------------------------------------
1001    | 李四    | 123     | 启用   |
-------------------------------------
1002    | 王五    | 123     | 启用   |
```

表2、子表 <用户信息表> 主键：id  外键：pid(即主表的id)
```
id    | pid    | 性别    | 民族   | 身份证号码 |`
----------------------------------------------
1     | 1000   | 男      | 汉     | 123456    |
----------------------------------------------
2     | 1001   | 男      | 汉     | 234567    |
----------------------------------------------
3     | 1002   | 男      | 汉     | 345678    |
```

设计的时候，就给表2加入一个外键，这个外键就是关联表1中的 id 字段。这样表1就是主表，表2就是子表。