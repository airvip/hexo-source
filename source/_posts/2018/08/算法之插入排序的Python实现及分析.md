---
title: 算法之插入排序的Python实现及分析
date: 2018-08-15 11:03:51
tags: 
    - 算法
---

> 我今天看到一个人好像你，只不过是我此刻在想你而已。


插入排序（Insertion Sort）是一种简单的排序算法。首先取待排序的第一个元素作为有序序列，对于其他未排序元素，在已排序序列中从后向前比较，找到相应位置并插入。

<!-- more -->

插入排序在从后向前扫描过程中，需要反复把已排序元素逐步向后挪位，为最新元素提供插入空间。


# 实现原理

下面通过升序的方式说下如何实现插入排序

1. 取第一个元素，将该元素认为已经被排序
2. 取出下一个元素，在已排序的元素序列中从后向前扫描
3. 如果该元素（已排序）大于新元素，将该元素（已排序）移到下一位置
4. 重复步骤 3，直到找到已排序的元素小于或者等于新元素的位置
5. 将新元素插入到该位置后
6. 重复步骤 2~5

# Python 实现

```
#!/usr/bin/env python3
# -*- coding:utf-8 -*-

def insert_sort(nums):
    for i in range(1, len(nums)):
        tmp = nums[i]  # 当前需要排序的元素
        for j in range(i, -1, -1):
            if nums[j-1] > tmp:  # nums[j-1] 表示已有序的元素
                nums[j] = nums[j-1]
            else:
                break
        nums[j] = tmp
    return nums

if __name__ == "__main__":
    list_nums = [32, 24, 19, 55, 30, 22, 8]
    list_res = insert_sort(list_nums)
    print(list_res)
```


运行结果

```
[8, 19, 22, 24, 30, 32, 55]
```

# 程序分析

第一遍插入：初始列表 `[32, 24, 19, 55, 30, 22, 8]`，有序元素：`[32]` ，需要插入的元素：24

j = 1 时：32 ( 下标 0 ) 与 tmp = 24 比较，32 > 24 ,将 32 的下标加一 (即：项下标改为 j = 1 )
j = 0 时，下标为 -1 的元素不存在，跳出内循环，将需要插入的元素 24 插入到下标为 0 的位置

第二遍插入：经过第一遍插入后的列表 `[24, 32, 19, 55, 30, 22, 8]`，有序元素：`[24，32]`，需要插入的元素：19

j = 2 时：32 ( 下标 1 ) 与 tmp = 19 比较，32 > 19 ,将 32 的下标加一 (即：项下标改为 j = 2 ) 
j = 1 时：24 ( 下标 0 ) 与 tmp = 19 比较，24 > 19 ,将 24 的下标加一 (即：项下标改为 j = 1 ) 
j = 0 时，下标为 -1 的元素不存在，跳出内循环，将需要插入的元素 19 插入到下标为 0 的位置

第三遍插入的时候就已经对三个元素做好了排序 `[19, 24, 32]`

这样经过多次插入，最终就可以得到一个升序的列表 `[8, 19, 22, 24, 30, 32, 55]`