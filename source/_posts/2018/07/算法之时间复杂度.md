---
title: 算法之时间复杂度
date: 2018-07-11 12:00:23
tags: 
    - 算法
---

> 喜欢就是喜欢，哪里来的欲擒故纵，克制和隐忍，我巴不得一日三餐吃了什么都告诉你！

在计算机科学中，算法的时间复杂度是一个函数，它定性描述了该算法的运行时间。时间复杂度常用大O符号表述，不包括这个函数的低阶项和首项系数。

<!-- more -->

WTF,时间复杂度到底是什么鬼，怎么就能描述算法所需的计算工作量了。

# 举例衡量程序好坏

我们衡量程序好坏非常重要的指标：
1. 运行时间(时间复杂度)
2. 占用空间(空间复杂度)

公司来了两个应聘程序员的小黑与小白，考官让他们实现一个简单的小功能。
小黑的代码运行一次获得结果花费 1 秒内存占用 1 MB。
小白的代码运行一次获得结果花费 10 秒内存占用 10 MB。

如果你作为考官，你会录用哪一个。

# 举例说明计算运行时间

场景一：从家到公司共 100 米，每 2 分钟走一米，那么，从家到公司需要几分钟？
`2 * 100 / 1 = 200 (分钟)`
如果从家到公司是 N 米呢？从家到公司就需要
`2 * n / 1 = 2n (分钟)`
用函数表达式表示为 `T(n) = 2n`

场景二：从家到公司共 32 米，每 3 分钟走剩下路程的一半，走的只剩 1 米的时候需要几分钟？
`3 * log32 = 3 * 5 = 15 (分钟)`
如果从家到公司是 N 米呢？从家到公司就需要
`3 * log(n)  = 3log(n) (分钟)`
用函数表达式表示为 `T(n) = 3log(n)`

场景二解析：32 不断除以 2 ，除几次以后结果等于 1 ?这就是我们数学中用到的对数,以 2 为底 32 的对数，即：`log2(32)`，可以简写为 `log(32)`。

场景三：从家到公司共 100 米，每 2 秒走一米，求走一米需要多长时间？
注意题中的关键信息，每 2 秒走一米，那么答案自然是 `2` 秒，结果与从家到公司的距离无关。
如果从家到公司是 N 米呢？求走一米需要多长时间？
结果仍然是 `2` 秒，是一个常数。
用函数表达式表示为 `T(n) = 2`

场景四：从家到公司共 100 米，第一米需要 1 秒，第二米需要 2 秒，依次类推，即：第几米需要几秒，那么，从家到公司需要几秒？
`1 + 2 + 3 + ... + 99 + 100 = 5050`,也就是需要 5050 秒
如果从家到公司是 N 米呢？求需要多少秒？
`1 + 2 + 3 + ... + n-1 + n = (n+1)*n/2 = 0.5n^2 + 0.5n`
用函数表达式表示为 `T(n) = 0.5n^2 + 0.5n`

# 伪代码实现

上面四个场景所花费的时间，我们可以理解为程序**程序执行的操作次数**，换个说法叫做：时间复杂度。

场景一 `T(n) = 2n` 是线性函数，伪代码实现

```
def use_t1(n):
    i = 0
    while i < n:
        print('走路中...')
        print('走了一米')
        i += 1
```

场景二 `T(n) = 3log(n)` 是对数函数，伪代码实现

```
def use_t(n):
    i = 1
    while i < n:
        print('走路中')
        print('走路中')
        print('到记录点一次')
        i *= 2
```

场景三 `T(n) = 2` 是常数函数，伪代码实现

```
def use_t(n):
    print('走路中')
    print('走了一米')
```

场景四 `T(n) = 0.5n^2 + 0.5n` 是指数函数，伪代码实现

```
def use_t(n):
    i = 0
    while i < n:
        j = 0
        while j < i:
            print('走路中')
            j += 1
        print('记录点...')
        i += 1
```

# 渐进时间复杂度

虽然我们使用基本操作执行次数的函数 T(n) 表示运行时间，但是在分析与比较程序运行时间还是有一定困难。

当算法一与算法二同时实现一个功能，算法一用 `T(n) = 2n`，算法二用 `T(n) = 5log(n)`到底哪种算法用时更长，就需要看 n 的值大小了。

于是就产生了**渐进时间复杂度(asymptotic time complectiy)**。

渐进时间复杂度：若存在函数 f(n) ,使得当 n 趋近于无限大时， T(n) / f(n) 的极限值为不为0的常数，那么， f(n) 为 T(n) 的同数量级函数，记作 T(n) = O(f(n)), O(f(n)) 称为算法的渐进时间复杂度，简称时间复杂度。

渐进时间复杂度用大写的 O 表示，所以也称为 **大 O 表示法**

表示时间复杂度的基本原则：
1. 如果运行时间是常数，就用常数 1 表示。
2. 只保留时间函数中的最高阶项。
3. 如果最高阶项存在系数，则把系数省略。

现在我们根据时间复杂度表示原则修改下上面的四个场景

场景一 `T(n) = 2n`，最高阶为 2n,省略系数 2，用时间复杂度表示：`T(n) = O(n)`
场景二 `T(n) = 3log(n)`，最高阶为 3log(n),省略系数 3，用时间复杂度表示：`T(n) = O(log(n))`
场景三 `T(n) = 2`， 如果是常数，就用常数 1 代替，用时间复杂度表示：`T(n) = O(1)`
场景四 `T(n) = 0.5n^2 + 0.5n`，最高阶为 0.5n^2,省略系数 0.5，用时间复杂度表示：`T(n) = O(n^2)`

这样我们就可以做出用时长短的排序了：`O(1) < O(log(n)) < O(n) < O(n^2)`

当然时间复杂度还有很多种，如：`O(n*log(n))`

下面是几种常见排序的平均时间复杂

![complectiy](/img/201807/time_complectiy/time_complectiy.jpg)